<!-- Desktop: Swiper carousel -->
<swiper-container loop="true" navigation="true"
  breakpoints='{
    "10":   { "slidesPerView": 2, "spaceBetween": 10 },
    "768":   { "slidesPerView": 3, "spaceBetween": 30 },
    "930":  { "slidesPerView": 4, "spaceBetween": 30 },
    "1200":  { "slidesPerView": 5, "spaceBetween": 30 },
    "1420":  { "slidesPerView": 6, "spaceBetween": 30 },
    "1751":  { "slidesPerView": 7, "spaceBetween": 30 },
    "2000":  { "slidesPerView": 8, "spaceBetween": 30 }
  }' [spaceBetween]="30" class="swipper-container">
  @for (s of slides; track s) {
    <swiper-slide>
      <app-card-category
        [title]="s.title"
        [icon]="s.icon"
        [category]="s.key"
        [background]="s.background"
        [color]="s.color"
        [accentColor]="s.accentColor"
        [overlay]="s.overlay"
      ></app-card-category>
    </swiper-slide>
  }
</swiper-container>

<!-- Mobile: horizontal chip strip (Deezer-style) -->
<div class="mobile-category-strip">
  @for (s of slides; track s.key; let i = $index) {
    <button
      class="category-chip"
      [style.--accent]="s.accentColor"
      [style.--delay]="(i * 0.04 + 0.35) + 's'"
      (click)="onPastilleTap(s)"
    >
      <span class="chip-icon">
        <img [src]="s.overlay" [alt]="s.title" class="chip-img" />
      </span>
      <span class="chip-label">{{ s.title }}</span>
    </button>
  }
</div>
