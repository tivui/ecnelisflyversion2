<div class="sidenav-content">
  <!-- Header with close button -->
  <div class="sidenav-header">
    <button class="close-btn" (click)="close()">
      <mat-icon>close</mat-icon>
    </button>
    <a class="brand" routerLink="/home" (click)="close()">
      <img src="/img/logos/logo_blue_orange_left_round.png" alt="Ecnelis Fly" class="brand-logo" />
      <span class="brand-name">ECNELIS FLY</span>
    </a>
  </div>

  <!-- User section -->
  @if (currentUser(); as user) {
    <div class="sidenav-user-section">
      <app-user-avatar
        [username]="user.username"
        [avatarStyle]="user.avatarStyle"
        [avatarSeed]="user.avatarSeed"
        [avatarBgColor]="user.avatarBgColor"
        size="48px"
      />
      <span class="sidenav-username">{{ user.username }}</span>
    </div>
  }

  <!-- Menu items -->
  <nav class="sidenav-nav">
    @for (item of menuItems; track item.route) {
      <a
        class="nav-item"
        [routerLink]="item.route"
        [queryParams]="item.queryParams"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: item.route === '/mapfly' }"
        matRipple
        (click)="onItemClick(item, $event)"
      >
        <mat-icon>{{ item.icon }}</mat-icon>
        <span class="nav-label">{{ item.labelKey | translate }}</span>
        <mat-icon class="nav-arrow">chevron_right</mat-icon>
      </a>
    }
  </nav>

  <!-- Sound of the Day -->
  @if (dailyFeatured()) {
    <div class="featured-sound-section" (click)="goToFeaturedSound()" matRipple>
      <div class="featured-sound-icon">
        <mat-icon>headphones</mat-icon>
      </div>
      <div class="featured-sound-content">
        <span class="featured-sound-label">{{ 'sidenav.soundOfTheDay' | translate }}</span>
        <p class="featured-sound-teasing">{{ teasingText() }}</p>
      </div>
      <mat-icon class="nav-arrow">chevron_right</mat-icon>
    </div>
  }

  <!-- Footer -->
  <div class="sidenav-footer">
    <span class="footer-text">Sounds of the world</span>
  </div>
</div>
